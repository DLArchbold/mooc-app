{"ast":null,"code":"var _jsxFileName = \"C:\\\\react_apps\\\\mooc-app\\\\src\\\\components\\\\mooc\\\\ListCommentsComponent.jsx\";\nimport React, { Component } from 'react'; //import { Route, Redirect } from 'react-router-dom' //REACT-5\n\nimport CommentDataService from '../../api/comment/CommentDataService.js';\nimport AuthenticationService from './AuthenticationService.js';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass ListCommentsComponent extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      comments: [// {id:1, description: 'Learn React', inResponseTo:0, targetDate:new Date, username: \"instructor 1\"},\n        // {id:2, description: 'Test comment 2',  inResponseTo:1, targetDate:new Date, username: \"instructor 1\"},\n        // {id:3, description: 'Test comment 3', inResponseTo:2, targetDate:new Date, username: \"instructor 1\"}\n      ],\n      message: null\n    };\n    this.deleteCommentClicked = this.deleteCommentClicked.bind(this);\n    this.refreshComments = this.refreshComments(this);\n  }\n\n  componentDidMount() {\n    // let username = AuthenticationService.getLoggedInUserName()\n    // CommentDataService.retrieveAllComments(username)\n    // .then(\n    //     response=>{\n    //         // console.log(response)\n    //         this.setState({comments:response.data})\n    //     }\n    // )   \n    console.log(\"componentDidMount\");\n    this.refreshComments();\n    console.log(this.state);\n  }\n\n  refreshComments() {\n    let username = AuthenticationService.getLoggedInUserName();\n    CommentDataService.retrieveAllComments(username).then(response => {\n      // console.log(response)\n      this.setState({\n        comments: response.data\n      });\n    });\n  }\n\n  deleteCommentClicked(id) {\n    let username = AuthenticationService.getLoggedInUserName(); // console.log(id + \" \" + username)\n\n    CommentDataService.deleteComment(username, id).then(response => {\n      this.setState({\n        message: `Delete of todo ${id} successful.`\n      });\n      this.refreshComments();\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"List Comments\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 13\n      }, this), this.state.message && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"alert alert-success\",\n        children: this.state.message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 36\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container\",\n        children: /*#__PURE__*/_jsxDEV(\"table\", {\n          className: \"table\",\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"id\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 76,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"description\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 77,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"in response to comment\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 78,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Target Date\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 79,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Commenter\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 80,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Delete\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 81,\n                columnNumber: 25\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 75,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: this.state.comments.map(comment => /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: comment.id\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 89,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: comment.description\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 90,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: comment.inResponseTo\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 91,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: comment.targetDate.toString()\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 92,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: comment.username\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 93,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"btn btn-warning\",\n                  onClick: () => this.deleteCommentClicked(comment.id),\n                  children: \"Delete\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 94,\n                  columnNumber: 29\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 94,\n                columnNumber: 25\n              }, this)]\n            }, comment.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 88,\n              columnNumber: 29\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 9\n    }, this);\n  }\n\n}\n\nexport default ListCommentsComponent;","map":{"version":3,"names":["React","Component","CommentDataService","AuthenticationService","ListCommentsComponent","constructor","props","state","comments","message","deleteCommentClicked","bind","refreshComments","componentDidMount","console","log","username","getLoggedInUserName","retrieveAllComments","then","response","setState","data","id","deleteComment","render","map","comment","description","inResponseTo","targetDate","toString"],"sources":["C:/react_apps/mooc-app/src/components/mooc/ListCommentsComponent.jsx"],"sourcesContent":["import React, { Component } from 'react'\r\n//import { Route, Redirect } from 'react-router-dom' //REACT-5\r\nimport CommentDataService from '../../api/comment/CommentDataService.js'\r\nimport AuthenticationService from './AuthenticationService.js'\r\n\r\n\r\nclass ListCommentsComponent extends Component{\r\n    constructor(props){\r\n        super(props)\r\n        this.state={\r\n            comments:\r\n            [\r\n                // {id:1, description: 'Learn React', inResponseTo:0, targetDate:new Date, username: \"instructor 1\"},\r\n                // {id:2, description: 'Test comment 2',  inResponseTo:1, targetDate:new Date, username: \"instructor 1\"},\r\n                // {id:3, description: 'Test comment 3', inResponseTo:2, targetDate:new Date, username: \"instructor 1\"}\r\n            ],\r\n            message: null\r\n        \r\n        }\r\n        this.deleteCommentClicked = this.deleteCommentClicked.bind(this)\r\n        this.refreshComments = this.refreshComments(this)\r\n    }\r\n\r\n\r\n    componentDidMount(){\r\n        // let username = AuthenticationService.getLoggedInUserName()\r\n        // CommentDataService.retrieveAllComments(username)\r\n        // .then(\r\n        //     response=>{\r\n        //         // console.log(response)\r\n        //         this.setState({comments:response.data})\r\n        //     }\r\n\r\n        // )   \r\n        console.log(\"componentDidMount\")\r\n        this.refreshComments()\r\n        console.log(this.state)\r\n    }\r\n\r\n    refreshComments(){\r\n\r\n        let username = AuthenticationService.getLoggedInUserName()\r\n        CommentDataService.retrieveAllComments(username)\r\n        .then(\r\n            response=>{\r\n                // console.log(response)\r\n                this.setState({comments:response.data})\r\n            }\r\n\r\n        )   \r\n    }\r\n\r\n    deleteCommentClicked(id){\r\n        let username = AuthenticationService.getLoggedInUserName()\r\n        // console.log(id + \" \" + username)\r\n        CommentDataService.deleteComment(username, id)\r\n        .then(\r\n            response=>{\r\n                this.setState({message:`Delete of todo ${id} successful.`})\r\n                this.refreshComments();\r\n            }\r\n        )\r\n    }\r\n\r\n\r\n    render(){\r\n        return(\r\n        \r\n        <div>\r\n            <h1>List Comments</h1>\r\n            {this.state.message && <div className =\"alert alert-success\">{this.state.message}</div>}\r\n            <div className=\"container\">\r\n            <table className=\"table\">\r\n                <thead>\r\n                    <tr>\r\n                        <th>id</th>\r\n                        <th>description</th>\r\n                        <th>in response to comment</th>\r\n                        <th>Target Date</th>\r\n                        <th>Commenter</th>\r\n                        <th>Delete</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    {\r\n                        this.state.comments.map(\r\n                            comment =>\r\n                            <tr key = {comment.id}>\r\n                        <td>{comment.id}</td>\r\n                        <td>{comment.description}</td>\r\n                        <td>{comment.inResponseTo}</td>\r\n                        <td>{comment.targetDate.toString()}</td>\r\n                        <td>{comment.username}</td>\r\n                        <td><button className = \"btn btn-warning\" onClick={()=> this.deleteCommentClicked(comment.id)}>Delete</button></td>\r\n                    </tr>\r\n                        )\r\n                    }\r\n                </tbody>\r\n            </table>\r\n            </div>\r\n        </div>\r\n        )\r\n    }\r\n    \r\n}\r\n\r\nexport default ListCommentsComponent"],"mappings":"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"},"metadata":{},"sourceType":"module"}